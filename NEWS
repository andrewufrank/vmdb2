NEWS for vmdb2, the Debian disk image builder
=============================================================================

Version 0.6, released 2017-06-11
---------------------------------

* setup.py now installs the plugins, making the .deb package actually
  be usable.

Version 0.5, released 2017-06-04
---------------------------------

* The "unless:" part of vmdb spec files now actually works. Previously
  it was entrely unimplmented (there was code to implement the check,
  but it was never actually called). The apt and debootstrap plugins
  have been fixed to not do "has rootfs tarball been unpacked" checks
  themselves.

Version 0.4, released 2017-06-03
---------------------------------

* Add a rudimenteary smoke test yarn for vmdb2-built images.

* Add a plugin to run Ansible to configure an image at build time.
  Doing this via Ansible saves me from having to write equivalent
  functionality directly into vmdb2, which would be quite a lot of
  work. (If someone wants puppet, a plugin for that is probably easily
  doable, assuming it can run against a chroot. I don't now, I've
  never used puppet.)

Version 0.3, released 2017-05-21
---------------------------------

* Simplify progress reporting to go to stdout, plus stop logging
  progress reports ar as errors.

* Add a BIOS flavor for installing GRUB.

Version 0.2, released 2017-05-14
---------------------------------

* Add plugin to provide steps to cache the rootfs, and to unpack the
  rootfs from the cache, instead of running debootstrap or installing
  packages. This speeds up iteration time from about 9 minutes to 40
  seconds on my laptop. See small.vmdb for an example.

* Add a generic "unless this condition is true" functionality to
  steps. If a step has a field "unless: foo" it is skipped the
  variable foo exists and is true. The variables are set by steps, and
  currently only the rootfs unpacking step sets a variable (the
  `rootfs_unpacked` variable). This allows debootstrap to be skipped
  if the rootfs has already been created by unpacking a cached
  tarball.

Version 0.1, released 2017-05-13
-----------------------------------------------------------------------------

This is the first release. It can build a UEFI image for the amd64
architecture. It's not meant to really be useful for other people.
